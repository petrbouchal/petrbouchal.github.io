<!DOCTYPE html>
<html lang='cz'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='tl;dr: nový balík v R na využití dat z rejstříku škol
Základní data o školách jsou labyrint.
 I vyšel sem od sebe sám a ohlédati se počal mysle, odkud a jak začíti.
 (Technicky vzato se bavíme o rejstříku škol a školských zařízení a nepřímo i o rejstříku školských právnických osob.)
Můžete mít data o školských právnických osobách, o školských zařízeních, o umístěních školských zařízení, nebo o oborech, které se v jednotlivých školách učí.'>
<meta name='theme-color' content='#00f'>

<meta property='og:title' content='všezvěd 0.1 aneb jak na data o školách • Petr Bouchal'>
<meta property='og:description' content='tl;dr: nový balík v R na využití dat z rejstříku škol
Základní data o školách jsou labyrint.
 I vyšel sem od sebe sám a ohlédati se počal mysle, odkud a jak začíti.
 (Technicky vzato se bavíme o rejstříku škol a školských zařízení a nepřímo i o rejstříku školských právnických osob.)
Můžete mít data o školských právnických osobách, o školských zařízeních, o umístěních školských zařízení, nebo o oborech, které se v jednotlivých školách učí.'>
<meta property='og:url' content='https://petrbouchal.xyz/cz/post/vsezved/'>
<meta property='og:site_name' content='Petr Bouchal'>
<meta property='og:type' content='article'><meta property='og:image' content='https://repository-images.githubusercontent.com/332728743/29043d00-5f53-11eb-8e97-01ec2cfcfea1'><meta property='article:section' content='post'><meta property='article:tag' content='štístko'><meta property='article:tag' content='MŠMT'><meta property='article:tag' content='open-data'><meta property='article:tag' content='školy'><meta property='article:published_time' content='2021-01-25T00:00:00Z'/><meta property='article:modified_time' content='2021-01-25T00:00:00Z'/><meta name='twitter:card' content='summary_large_image'><meta name='twitter:site' content='@petrbouchal'>

<meta name="generator" content="Hugo 0.79.0" />

  <title>všezvěd 0.1 aneb jak na data o školách • Petr Bouchal</title>
  <link rel='canonical' href='https://petrbouchal.xyz/cz/post/vsezved/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.809149b6.css'><link rel='stylesheet' href='/css/custom.css'><style>
:root{--color-accent:#00f;}
</style>

  <link rel="stylesheet" href="https://petrbouchal.xyz/css/syntax.css" rel="stylesheet" id="theme-stylesheet">
<script src="https://petrbouchal.xyz/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>


<body class='page type-post has-cover has-sidebar'>

  <div class='site'>

    <div id='sidebar' class='sidebar'>
  <a class='screen-reader-text' href='#main-menu'>Na hlavní menu</a>

  <div class='container'><section class='widget widget-sidebar_menu sep-after'><nav id='sidebar-menu' class='menu sidebar-menu' aria-label='Sidebar Menu'>
    <div class='container'>
      <ul><li class='item'>
  <a href='/cz'>✱</a></li><li class='item'>
  <a href='/cz/work/'>Práce</a></li><li class='item'>
  <a href='/cz/talks'>Přednášky &amp;c</a></li><li class='item'>
  <a href='/cz/post'>Texty</a></li><li class='item'>
  <a href='/cz/byrokrates'>Byrokrates</a></li></ul>
    </div>
  </nav>

</section><section class='widget widget-lang_switch sep-after'><nav aria-label='' class = "menu">
    <ul>
    
        <li>
          <a rel="alternate" href="/en" hreflang="en" lang="en"> > English</a>
        </li>
        </ul>
  </nav>
</section>
<section class='widget widget-search sep-after'>
  <header>
    <h4 class='title widget-title'> </h4>
  </header>

  <form action='/cz/search' id='search-form' class='search-form'>
    <label>
      <span class='screen-reader-text'>Hledat</span>
      <input id='search-term' class='search-term' type='search' name='q' placeholder='Hledat&hellip;'>
    </label></form>

</section>
</div>

  <div class='sidebar-overlay'></div>
</div>

    <div class='main'>

      <a class='screen-reader-text' href='#content'>Na obsah</a>

<button id='sidebar-toggler' class='sidebar-toggler' aria-controls='sidebar'>
  <span class='screen-reader-text'>Přepnout menu</span>
  <span class='open'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="3" y1="12" x2="21" y2="12" />
  <line x1="3" y1="6" x2="21" y2="6" />
  <line x1="3" y1="18" x2="21" y2="18" />
  
</svg>
</span>
  <span class='close'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="18" y1="6" x2="6" y2="18" />
  <line x1="6" y1="6" x2="18" y2="18" />
  
</svg>
</span>
</button>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Petr Bouchal</p><p class='desc site-desc'>Analýza dat a aplikovaný výzkum pro lepší vládnutí</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='cz' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>všezvěd 0.1 aneb jak na data o školách</h1>
      

    </div>
    
<div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Zveřejněno </span>
  <time class='entry-date' datetime='2021-01-25T00:00:00Z'>25. 01. 2021</time>
</span>

  
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
Čtení na 3 minut(y).
</span>


</div>


  </div>
</header>

  <div class='entry-cover'>
  <figure class='container cover-normal'>
    <img src='https://repository-images.githubusercontent.com/332728743/29043d00-5f53-11eb-8e97-01ec2cfcfea1'/>
    
  </figure>
</div>
  

  <div class='container entry-content'>
  
<script src="https://petrbouchal.xyz/cz/post/vsezved/index.cz_files/header-attrs/header-attrs.js"></script>


<p><strong>tl;dr: <a href="https://petrbouchal.xyz/vsezved">nový balík v R</a> na využití dat z rejstříku škol</strong></p>
<p>Základní data o školách jsou <em>labyrint</em>.</p>
<blockquote>
<p>I vyšel sem od sebe sám a ohlédati se počal mysle, odkud a jak začíti.</p>
</blockquote>
<p>(Technicky vzato se bavíme o <strong>rejstříku škol a školských zařízení</strong> a nepřímo i o <strong>rejstříku školských právnických osob</strong>.)</p>
<p>Můžete mít data o školských právnických osobách, o školských zařízeních, o umístěních školských zařízení, nebo o oborech, které se v jednotlivých školách učí.</p>
<p>Anebo můžete mít základní kontaktní údaje.</p>
<p>Dohromady to nejde.</p>
<blockquote>
<p>Viděl sem všecky skutky, kteréž se dějí pod sluncem a aj všecko jest marnost a trápení ducha.</p>
</blockquote>
<p>Ministerstvo školství zveřejňuje open data té první sady výše - v <a href="https://data.msmt.cz/dataset/rejstrik-skol-a-skolskych-zarizeni-cela-cr">jednom obrovském XML souboru</a>, popř. po krajích - ale pro každou školu jsou všechna data zaklíněna do sebe v jedné XML struktuře. (Jinak to taky můžeme mít <a href="https://rejstriky.msmt.cz/rejskol/">z vyhledávacího formuláře v omezeném množství a bez možnosti exportu</a>.)</p>
<p>Pak taky existuje server <a href="http://stistko.uiv.cz/registr/vybskolrn.asp">Štístko</a>, kde za několika formuláři a čudlíky najdete polopoužitelný excel s kontaktními adresami a emaily škol.</p>
<p>Pokud cokoli z toho chcete používat opakovaně, neřkuli strojově, je to dost fuška.</p>
<blockquote>
<p>Málo pak tu byl kdo zahálivý, všickni se prací nějakou zanášeli, ale kteréž práce (a tohoť bych se byl nikdý nenadál) nic nebyly než aneb hřičky dětinské aneb leda pachtování.</p>
</blockquote>
<p>Proto je tu <a href="https://petrbouchal.xyz/vsezved"><code>{všezvěd}</code></a>: balík v jazyce R, díky němuž se automatizovaně dostanete v vyčištěným datům podle vaší potřeby, bez nutnosti něco naklikávat, stahovat a konvertovat.</p>
<p>Je v úplně první minimálně funkční verzi.</p>
<p>Co umí:</p>
<blockquote>
<p>Z brány když vycházíme, vidím, že každému tomu ponabroušenému cejch dávají, po němž by, že mezi učence přináleží, poznán býti mohl, kalamář za pás, za ucho péro a do ruky prázdnou knihu k shledávání umění; i dostal sem toho také.</p>
</blockquote>
<ul>
<li>načíst kteroukoli ze čtyř vrstev rejstříku škol (škola, školské zařízení, umístění, obory) z opendatového XML</li>
<li>načíst kontaktní údaje pro kteroukoli z těchto vrstev ze serveru Štístko, v případě potřeby i s filtrem (tj. například stáhnout ze serveru jen základní školy v okresu Semily)</li>
</ul>
<p>Co to znamená:</p>
<blockquote>
<p>„Do jakéž sme toto pak apatéky vešli?“ „Do apatéky,“ řekl tlumočník, „kdež se lékové proti neduhům mysli chovají, a ta vlastním jménem bibliotéka slove.</p>
</blockquote>
<ul>
<li>v datech jsou adresy (včetně kódu adresních bodů podle ČÚZK), kapacity škol, ředitelé, statutáři, zřizovatelé a různé kategorizace</li>
<li>každá škola a školské zařízení mají své ID (REDIZO, resp. IZO)</li>
<li>je to primárně registr, tj. nejsou tam žádné “živé” údaje o školách (jak jsou dobré nebo špatné, co se v nich děje atd.)</li>
</ul>
<p>Co (zatím) neumí:</p>
<blockquote>
<p>I šli sme a uvedli mne na nějaký plac, uprostřed něhož uzřím veliký rozložitý strom, na němž všelijaké lístí a všelijaké ovoce (v škořepinách všecko) rostlo, pravili mu Natura.</p>
</blockquote>
<ul>
<li><a href="https://data.msmt.cz/dataset/rejstrik-spo">rejstřík školských právnických osob</a></li>
<li>stáhnout XML jen pro jednoltivé kraje (tyto exporty se v katalogu objevily až nedávno)</li>
<li>vyzobávat data o statutárech z opendatového XML, byť tam jsou i s adresami trvalého pobytu…</li>
<li>žádná “živá” data o školách, která vytváří statistický aparát resortu školství (ročenky, kvanta různých exportů z výkazů od škol a ad hoc sběrů dat)</li>
</ul>
<p>A kdo to je: Protože data o školách jsou labyrint a ve školách se učí celý ráj světa, průvodce po datech se jmenuje Všezvěd, stejně jako průvodce Poutníka v <em>Komenského Labyrintu světa a ráji srdce</em>.</p>
<p>Možná se měl spíš jmenovat Mámil, jako Poutníkův průvodce? Nebo je to vlastně celé <em>lusthauz</em>?</p>
<blockquote>
<p>Illustritati Tuae devotus cliens.</p>
</blockquote>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'>
  <div class='categories'>
  <span class='taxonomy-icon'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
</span>
  <span class='screen-reader-text'>Kategorie: </span><a class='category' href='/cz/categories/rstats/'>rstats</a></div>
<div class='tags'>
  <span class='taxonomy-icon'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>
</span>
  <span class='screen-reader-text'>Tagy: </span><a class='tag' href='/cz/tags/%C5%A1t%C3%ADstko/'>štístko</a>, <a class='tag' href='/cz/tags/m%C5%A1mt/'>MŠMT</a>, <a class='tag' href='/cz/tags/open-data/'>open data</a>, <a class='tag' href='/cz/tags/%C5%A1koly/'>školy</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/cz/post/vladnuti/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Předchozí</span>
        <span class='screen-reader-text'>Předchozí: </span>O stavu vládnutí (ad Česko 2030)</a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><section class='widget widget-social_menu sep-after'><nav aria-label='Social Menu'>
    <ul><li>
        <a href='https://github.com/petrbouchal' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Github account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>
</a>
      </li><li>
        <a href='https://twitter.com/petrbouchal' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Twitter account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
  
</svg>
</a>
      </li><li>
        <a href='mailto:pbouchal@gmail.com' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Contact via Email</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
  <polyline points="22,6 12,13 2,6"/>
  
</svg>
</a>
      </li><li>
        <a href='https://linkedin.com/in/petrbouchal' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Linkedin account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
  <rect x="2" y="9" width="4" height="12"/>
  <circle cx="4" cy="4" r="2"/>
  
</svg>
</a>
      </li></ul>
  </nav>
</section><div class='copyright'>
  <p></p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__public_path__='\/assets\/js\/'</script>

<script src='/assets/js/main.68cb493a.js'></script><script src='/js/custom.js'></script>

</body>

</html>

